<!-- This is the HTML file of the emp-table component. This component is
responsible for displaying the employees in a table format. The table has the
following columns: first name, last name, ID number, and start date. The table
also has two buttons for each employee: one for editing the employee's details
and one for deleting the employee. The table also has a filter input field that
allows the user to filter the employees by name. The table is displayed using
Angular Material's mat-table component. -->


<!-- 
<button mat-fab color="primary" class="floating-button" (click)="exportToExcel()">
  <mat-icon>save_alt</mat-icon>
</button> -->

<mat-form-field>
  <mat-label>חיפוש</mat-label>
  <input matInput (keyup)="applyFilter($event)" placeholder="הקלד את המילים אותם ברצונך לחפש" #input />
</mat-form-field>

<table
  mat-table
  [dataSource]="dataSource"
  *ngIf="dataSource"
  class="mat-elevation-z8"
>
  <ng-container matColumnDef="firstName">
    <th mat-header-cell *matHeaderCellDef>שם פרטי</th>
    <td mat-cell *matCellDef="let element">{{ element.firstName }}</td>
  </ng-container>

  <ng-container matColumnDef="lastName">
    <th mat-header-cell *matHeaderCellDef>שם משפחה</th>
    <td mat-cell *matCellDef="let element">{{ element.lastName }}</td>
  </ng-container>

  <ng-container matColumnDef="tz">
    <th mat-header-cell *matHeaderCellDef>ת.ז.</th>
    <td mat-cell *matCellDef="let element">{{ element.tz }}</td>
  </ng-container>

  <ng-container matColumnDef="startDate">
    <th mat-header-cell *matHeaderCellDef>תאריך כניסה לעבודה</th>
    <td mat-cell *matCellDef="let element">{{ element.startDate }}</td>
  </ng-container>

  <ng-container matColumnDef="delete">
    <th mat-header-cell *matHeaderCellDef>מחק</th>
    <td mat-cell *matCellDef="let element">
      <button (click)="deleteEmployee(element.id)"><mat-icon>delete</mat-icon></button>
    </td>
  </ng-container>

  <ng-container matColumnDef="edit">
    <th mat-header-cell *matHeaderCellDef>ערוך</th>
    <td mat-cell *matCellDef="let element">
      <button (click)="editEmployee(element.id)">&#9998;</button>
    </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

  <!-- Row shown when there is no matching data. -->
  <tr class="mat-row" *matNoDataRow>
    <td class="mat-cell" colspan="4">No data matching the filter</td>
  </tr>
</table>

<!-- <button mat-raised-button color="primary" (click)="addEmployee()">
  הוסף עובד חדש
</button> -->
